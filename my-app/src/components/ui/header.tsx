import { useState } from "react";
import SettingsPopUp from "./settings";

export default function Header() {
  const [showSettings, setShowSettings] = useState(false);

  const handleSettingsClick = () => {
    setShowSettings(!showSettings);
  };

  const handleSpecialMethod = () => {
    console.log("Special method invoked");
  };

  return (
    <section className="flex items-center justify-between gap-y-3 w-full py-2 h-fit rounded-[6px] text-black">
      <div>
        <h1 className="text-[1.188rem] font-semibold">
          Good
          {(() => {
            const hour = new Date().getHours();
            if (hour >= 5 && hour < 12) return " morning";
            if (hour >= 12 && hour < 17) return " afternoon";
            return " evening";
          })()}
        </h1>

        <div className="flex items-center gap-x-1">
          <div className="size-1 rounded-full bg-green-500"></div>
          <p className="text-[0.563rem] font-semibold">Connected</p>
        </div>
      </div>
      <div className="flex gap-x-3">
        <svg
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          onClick={() => handleSpecialMethod()}
        >
          <rect
            width="20.75"
            height="20.0163"
            transform="translate(0 0.539673)"
            fill="none"
            fillOpacity="0.01"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M19.2284 1.20686C19.2284 0.912072 18.9806 0.673096 18.6751 0.673096C18.3695 0.673096 18.1217 0.912072 18.1217 1.20686V2.00752H17.2917C16.9861 2.00752 16.7384 2.24649 16.7384 2.54129C16.7384 2.83608 16.9861 3.07506 17.2917 3.07506H18.1217V3.87571C18.1217 4.1705 18.3695 4.40948 18.6751 4.40948C18.9806 4.40948 19.2284 4.1705 19.2284 3.87571V3.07506H20.0584C20.364 3.07506 20.6117 2.83608 20.6117 2.54129C20.6117 2.24649 20.364 2.00752 20.0584 2.00752H19.2284V1.20686ZM16.3975 4.73833C16.6676 4.99889 16.6676 5.42134 16.3975 5.68192L15.0142 7.01634C14.744 7.2769 14.3061 7.2769 14.0361 7.01634C13.7659 6.75578 13.7659 6.33333 14.0361 6.07276L15.4192 4.73835C15.6894 4.47778 16.1274 4.47778 16.3975 4.73833ZM13.6308 7.40718C13.9009 7.66774 13.9009 8.0902 13.6308 8.35076L3.94747 17.6917C3.67736 17.9523 3.23943 17.9523 2.96932 17.6917C2.69919 17.4312 2.69919 17.0087 2.96932 16.7481L12.6527 7.40718C12.9228 7.14662 13.3607 7.14662 13.6308 7.40718ZM18.6751 7.34521C18.9806 7.34521 19.2284 7.58417 19.2284 7.87897V8.67963H20.0584C20.364 8.67963 20.6117 8.9186 20.6117 9.2134C20.6117 9.50818 20.364 9.74716 20.0584 9.74716H19.2284V10.5478C19.2284 10.8426 18.9806 11.0816 18.6751 11.0816C18.3695 11.0816 18.1217 10.8426 18.1217 10.5478V9.74716H17.2917C16.9861 9.74716 16.7384 9.50818 16.7384 9.2134C16.7384 8.9186 16.9861 8.67963 17.2917 8.67963H18.1217V7.87897C18.1217 7.58417 18.3695 7.34521 18.6751 7.34521ZM12.3118 1.20686C12.3118 0.912072 12.064 0.673096 11.7584 0.673096C11.4528 0.673096 11.2051 0.912072 11.2051 1.20686V2.00752H10.3751C10.0695 2.00752 9.82175 2.24649 9.82175 2.54129C9.82175 2.83608 10.0695 3.07506 10.3751 3.07506H11.2051V3.87571C11.2051 4.1705 11.4528 4.40948 11.7584 4.40948C12.064 4.40948 12.3118 4.1705 12.3118 3.87571V3.07506H13.1418C13.4473 3.07506 13.6951 2.83608 13.6951 2.54129C13.6951 2.24649 13.4473 2.00752 13.1418 2.00752H12.3118V1.20686Z"
            fill="black"
          />
        </svg>
        <svg
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="cursor-pointer"
          onClick={() => {
            window.location.reload();
            localStorage.clear();
          }}
        >
          <rect
            width="20.75"
            height="20.0163"
            transform="translate(0.125)"
            fill="none"
            fillOpacity="0.01"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M2.75774 9.73701C2.75774 13.7993 5.81103 16.5665 9.23965 17.1392C9.632 17.2047 9.89498 17.5646 9.82704 17.9432C9.75911 18.3216 9.38598 18.5753 8.99364 18.5098C4.96583 17.837 1.3158 14.5622 1.3158 9.73701C1.31579 7.68643 2.28291 6.07493 3.41231 4.84903C4.22135 3.97086 5.14694 3.25784 5.89134 2.71162H3.62764C3.24564 2.71162 2.93597 2.41289 2.93597 2.04441C2.93597 1.67592 3.24564 1.3772 3.62764 1.3772H7.77764C8.15963 1.3772 8.4693 1.67592 8.4693 2.04441V6.04767C8.4693 6.41616 8.15963 6.71488 7.77764 6.71488C7.39564 6.71488 7.08597 6.41616 7.08597 6.04767V3.5849L7.08388 3.58642C6.29335 4.16157 5.32712 4.86452 4.49013 5.77302C3.50171 6.84591 2.75774 8.14207 2.75774 9.73701ZM18.1234 10.2794C18.1234 6.26002 15.1348 3.50904 11.7503 2.89613C11.3589 2.82526 11.1012 2.46177 11.1747 2.08425C11.2482 1.70675 11.625 1.45817 12.0163 1.52904C15.9924 2.24909 19.5652 5.50594 19.5652 10.2794C19.5652 12.3299 18.5981 13.9414 17.4688 15.1673C16.6597 16.0455 15.7341 16.7585 14.9897 17.3048H17.2535C17.6355 17.3048 17.9452 17.6035 17.9452 17.972C17.9452 18.3405 17.6355 18.6392 17.2535 18.6392H13.1035C12.7215 18.6392 12.4118 18.3405 12.4118 17.972V13.9688C12.4118 13.6002 12.7215 13.3015 13.1035 13.3015C13.4855 13.3015 13.7951 13.6002 13.7951 13.9688V16.4314L13.7973 16.4298C14.5879 15.8547 15.554 15.1519 16.3909 14.2434C17.3794 13.1705 18.1234 11.8743 18.1234 10.2794Z"
            fill="black"
          />
        </svg>

        <svg
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          onClick={handleSettingsClick} // Event handler for showing settings
          className="cursor-pointer" // Optional: Add cursor pointer for visual feedback
        >
          <rect
            width="20.75"
            height="20.0163"
            transform="translate(0.25)"
            fill="none"
            fillOpacity="0.01"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M1.46313 10.0079C1.46313 5.12704 5.56492 1.17029 10.6247 1.17029C15.6845 1.17029 19.7863 5.12704 19.7863 10.0079C19.7863 14.8887 15.6845 18.8456 10.6247 18.8456C5.56492 18.8456 1.46313 14.8887 1.46313 10.0079ZM10.6247 2.43798C6.29071 2.43798 2.7773 5.82717 2.7773 10.0079C2.7773 11.9723 3.55297 13.762 4.82499 15.1073C6.04712 13.2657 8.18775 12.0431 10.6252 12.0431C13.0624 12.0431 15.2028 13.2654 16.4251 15.1067C17.6967 13.7614 18.4722 11.972 18.4722 10.0079C18.4722 5.82717 14.9586 2.43798 10.6247 2.43798ZM15.4414 15.9846C14.476 14.3843 12.6802 13.3108 10.6252 13.3108C8.5701 13.3108 6.77406 14.3846 5.80879 15.9851C7.13827 16.9834 8.80951 17.5779 10.6247 17.5779C12.4402 17.5779 14.1118 16.9831 15.4414 15.9846ZM7.37408 8.68017C7.37408 6.94827 8.82953 5.54429 10.6249 5.54429C12.4203 5.54429 13.8758 6.94827 13.8758 8.68017C13.8758 10.4121 12.4203 11.8161 10.6249 11.8161C8.82953 11.8161 7.37408 10.4121 7.37408 8.68017ZM10.6249 6.81199C9.55532 6.81199 8.68825 7.6484 8.68825 8.68017C8.68825 9.71195 9.55532 10.5484 10.6249 10.5484C11.6945 10.5484 12.5616 9.71195 12.5616 8.68017C12.5616 7.6484 11.6945 6.81199 10.6249 6.81199Z"
            fill="black"
          />
        </svg>
        {showSettings && <SettingsPopUp />}
      </div>
    </section>
  );
}
